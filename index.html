<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>Weight-Tracker</title>

  <!-- iPhone のホーム画面アイコン -->
  <link rel="apple-touch-icon" href="favicon.png?v=1">
  <!-- ブラウザのタブ用（おまけ） -->
  <link rel="icon" type="image/png" href="favicon.png?v=1">

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- iOSで全画面化（ホームアイコンからの起動時に効く） -->
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 0; }
    .wrap { min-height: 100vh; display: grid; place-items: center; padding: 24px; }
    .card { max-width: 560px; width: 100%; border-radius: 14px; border: 1px solid #e5e7eb;
            box-shadow: 0 8px 32px rgba(2,6,23,.08); padding: 20px; text-align: center; }
    img.icon { width: 96px; height: 96px; border-radius: 20%; margin-bottom: 12px; }
    h1 { font-size: 20px; margin: 8px 0 4px; }
    p  { color: #4b5563; line-height: 1.6; margin: 6px 0; }
    .btn { display:inline-block; margin-top: 12px; padding: 10px 16px; border-radius: 10px;
           background:#111827; color:#fff; text-decoration:none; }
    .muted { font-size: 13px; color:#6b7280; margin-top:10px; }
    ol { text-align: left; margin: 10px auto; display: inline-block; }
  </style>

  <script>
    // ←←← ここをあなたの Streamlit アプリURLに置き換えてください
    const TARGET = "https://weight-tracker-sxntfrubtviwkhorbe37cc.streamlit.app/";

    // iOS: ホームアイコン(standalone)から開いたら自動リダイレクト
    document.addEventListener("DOMContentLoaded", function () {
      const isIOSStandalone = window.navigator.standalone === true;  // iOSのみ
      if (isIOSStandalone) {
        window.location.replace(TARGET);
      }
      // Safariで“ホームに追加”してない通常表示では、手順カードを見せる
      // （自動リダイレクトはしない）
      document.getElementById("open-now").addEventListener("click", function(e){
        e.preventDefault();
        window.location.href = TARGET;
      });
    });
  </script>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <img class="icon" src="favicon.png?v=1" alt="App Icon" />
      <h1>Weight-Tracker</h1>
      <p>ホーム画面に追加すると、このアイコンで起動できます。</p>

      <h3>iPhone（Safari）の手順</h3>
      <ol>
        <li>画面下の <strong>共有</strong> ボタンをタップ</li>
        <li><strong>ホーム画面に追加</strong> を選択</li>
        <li>ホームから起動すると自動でアプリに移動します</li>
      </ol>

      <a id="open-now" class="btn" href="#">今すぐ開く</a>
      <p class="muted">※AndroidのChromeでも追加できます（手順は端末により表示が異なります）。</p>
    </div>
  </div>
</body>
</html>
